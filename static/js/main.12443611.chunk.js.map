{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","state","currentFrame","inTransition","hasNext","hasPreviouus","intervalId","handleNext","props","step","frameSize","infinite","count","images","length","getNextFrame","current","next","nextFrame","setState","setCurrentFrame","handlePrevious","getPreviousFrame","previous","previousFrame","setTimeout","animationDuration","inVisibleArea","index","this","itemWidth","className","style","width","transform","transitionDuration","map","imageUrl","classNames","src","alt","type","onClick","disabled","Component","defaultState","App","handleStepChange","changeEvent","value","Number","target","handleItemWidthChange","handleFrameSizeChange","handleAnimationDurationChange","handleInfiniteChange","checked","htmlFor","id","min","name","onChange","max","React","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.12443611.chunk.js","sourcesContent":["import { Component } from 'react';\nimport classNames from 'classnames';\nimport './Carousel.scss';\n\ntype Props = {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n};\n\ntype State = {\n  currentFrame: number,\n  inTransition: boolean,\n  hasNext: boolean,\n  hasPreviouus: boolean,\n};\n\nclass Carousel extends Component<Props, State> {\n  state: Readonly<State> = {\n    currentFrame: 0,\n    inTransition: false,\n    hasNext: true,\n    hasPreviouus: false,\n  };\n\n  intervalId = 0;\n\n  handleNext = () => {\n    const {\n      step,\n      frameSize,\n      infinite,\n      images,\n    } = this.props;\n    const count = images.length;\n    const { currentFrame, hasPreviouus } = this.state;\n\n    const getNextFrame = (current: number) => {\n      let next = current + step;\n\n      if (current + frameSize === count && infinite) {\n        next = 0;\n      }\n\n      if (count - next < frameSize) {\n        next = count - frameSize;\n      }\n\n      return next;\n    };\n\n    const nextFrame = getNextFrame(currentFrame);\n\n    const hasNextFrame = getNextFrame(nextFrame) !== nextFrame;\n\n    if (!hasNextFrame) {\n      this.setState({\n        hasNext: false,\n      });\n    }\n\n    if (!hasPreviouus) {\n      this.setState({\n        hasPreviouus: true,\n      });\n    }\n\n    this.setCurrentFrame(nextFrame);\n  };\n\n  handlePrevious = () => {\n    const {\n      step,\n      infinite,\n      frameSize,\n      images,\n    } = this.props;\n    const count = images.length;\n    const { currentFrame, hasNext } = this.state;\n\n    const getPreviousFrame = (current: number) => {\n      let previous = current - step;\n\n      if (current === 0 && infinite) {\n        previous = count - frameSize;\n      }\n\n      if (previous < 0) {\n        previous = 0;\n      }\n\n      return previous;\n    };\n\n    const previousFrame = getPreviousFrame(currentFrame);\n    const hasPreviousFrame = previousFrame !== getPreviousFrame(previousFrame);\n\n    if (!hasPreviousFrame) {\n      this.setState({\n        hasPreviouus: false,\n      });\n    }\n\n    if (!hasNext) {\n      this.setState({\n        hasNext: true,\n      });\n    }\n\n    this.setCurrentFrame(previousFrame);\n  };\n\n  setCurrentFrame = (nextFrame: number) => {\n    this.setState({\n      inTransition: true,\n      currentFrame: nextFrame,\n    });\n\n    setTimeout(() => {\n      this.setState({\n        inTransition: false,\n      });\n    }, this.props.animationDuration);\n  };\n\n  inVisibleArea = (index: number) => {\n    const { currentFrame } = this.state;\n    const { frameSize } = this.props;\n\n    return index >= currentFrame\n      && index < currentFrame + frameSize;\n  };\n\n  render() {\n    const {\n      images,\n      frameSize,\n      itemWidth,\n      animationDuration,\n    } = this.props;\n    const {\n      currentFrame,\n      inTransition,\n      hasNext,\n      hasPreviouus,\n    } = this.state;\n\n    return (\n      <div\n        className=\"Carousel\"\n        style={{\n          width: frameSize * itemWidth,\n        }}\n      >\n        <ul\n          className=\"Carousel__list\"\n          style={{\n            transform: `translateX(${-itemWidth * currentFrame}px)`,\n            transitionDuration: `${animationDuration}ms`,\n          }}\n        >\n          {images.map((imageUrl, index) => (\n            <li className=\"Carousel__item\">\n              <img\n                className={\n                  classNames('Carousel__img',\n                    {\n                      'Carousel__img--visible': this.inVisibleArea(index),\n                    })\n                }\n                src={imageUrl}\n                alt={`${index + 1}`}\n                width={itemWidth}\n              />\n            </li>\n          ))}\n        </ul>\n\n        <div className=\"Carousel__buttons\">\n          <button\n            type=\"button\"\n            onClick={this.handlePrevious}\n            className=\"Carousel__button\"\n            disabled={inTransition || !hasPreviouus}\n          >\n            {'<<'}\n          </button>\n\n          <button\n            type=\"button\"\n            onClick={this.handleNext}\n            data-cy=\"next\"\n            className=\"Carousel__button\"\n            disabled={inTransition || !hasNext}\n          >\n            {'>>'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\ninterface State {\n  images: string[],\n  step: number,\n  frameSize: number,\n  itemWidth: number,\n  animationDuration: number\n  infinite: boolean,\n}\n\nconst defaultState: State = {\n  images: [\n    './img/1.png',\n    './img/2.png',\n    './img/3.png',\n    './img/4.png',\n    './img/5.png',\n    './img/6.png',\n    './img/7.png',\n    './img/8.png',\n    './img/9.png',\n    './img/10.png',\n  ],\n  step: 3,\n  frameSize: 3,\n  itemWidth: 130,\n  animationDuration: 1000,\n  infinite: false,\n};\n\nclass App extends React.Component<{}, State> {\n  state: Readonly<State> = defaultState;\n\n  handleStepChange = (changeEvent: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Number(changeEvent.target.value);\n\n    this.setState({ step: value });\n  };\n\n  handleItemWidthChange =\n  (changeEvent: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Number(changeEvent.target.value);\n\n    this.setState({ itemWidth: value });\n  };\n\n  handleFrameSizeChange =\n  (changeEvent: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Number(changeEvent.target.value);\n\n    this.setState({ frameSize: value });\n  };\n\n  handleAnimationDurationChange =\n  (changeEvent: React.ChangeEvent<HTMLInputElement>) => {\n    const value = Number(changeEvent.target.value);\n\n    this.setState({ animationDuration: value });\n  };\n\n  handleInfiniteChange =\n  (changeEvent: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({ infinite: changeEvent.target.checked });\n  };\n\n  render() {\n    const {\n      images,\n      step,\n      frameSize,\n      itemWidth,\n      animationDuration,\n      infinite,\n    } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1 data-cy=\"title\">\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          infinite={infinite}\n        />\n\n        <form className=\"App__form\">\n          <label htmlFor=\"itemId\" className=\"App__label\">\n            {'Item width: '}\n            <input\n              id=\"itemId\"\n              type=\"number\"\n              min={10}\n              name=\"itemWidth\"\n              value={itemWidth}\n              onChange={this.handleItemWidthChange}\n            />\n          </label>\n\n          <label htmlFor=\"frameId\" className=\"App__label\">\n            {'Frame size: '}\n            <input\n              id=\"frameId\"\n              type=\"number\"\n              min={1}\n              max={10}\n              name=\"frameSize\"\n              value={frameSize}\n              onChange={this.handleFrameSizeChange}\n            />\n          </label>\n\n          <label htmlFor=\"stepId\" className=\"App__label\">\n            {'Step: '}\n            <input\n              id=\"stepId\"\n              type=\"number\"\n              min={1}\n              max={9}\n              name=\"step\"\n              value={step}\n              onChange={this.handleStepChange}\n            />\n          </label>\n\n          <label className=\"App__label\">\n            {'Animation duration: '}\n            <input\n              type=\"number\"\n              min={0}\n              name=\"animationDuration\"\n              value={animationDuration}\n              onChange={this.handleAnimationDurationChange}\n            />\n          </label>\n\n          <label className=\"App__label\">\n            {'Infinite: '}\n            <input\n              type=\"checkbox\"\n              name=\"infinite\"\n              checked={infinite}\n              onChange={this.handleInfiniteChange}\n            />\n          </label>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}